<html>
  <body>
    <div id="app-4">
        <h1>{{header}}</h1>
        <h2>{{message}}</h2>
        <input v-model="header">
        <ol>
        <!-- Create an instance of the todo-item component -->
            <todo-item v-for="item in items" ></todo-item>
        </ol>
        <button v-on:click="funcion">Agregar mas label-input</button>
        <label-input v-for="field in fields" v-bind:voltaje="field.voltaje" v-bind:litros="field.litros"></label-input>
        <button v-on:click="guardar">Guardar valores</button>
    </div>
    <script src="https://unpkg.com/vue"></script>
    <script>
        // Define a new component called todo-item
        Vue.component('todo-item', {
            props : ['todo','name'],
            template: '<li> <input type="text"> </li>'
        });

        Vue.component('label-input',{
            props : ['voltaje','litros'],
            template:'<div><label>Ingresa dato</label><br><input :value="voltaje" type="text" name="voltaje[]"><input :value="litros" type="text" name="litros[]"></div>'
        });

        var app4 = new Vue({
            el: '#app-4',
            data:{
                header:'hola',
                items:[
                    {name:'marcos1',post:'Hello1'},
                ],
                fields:[]
            },
            methods:{
                funcion:function (event){
                    this.fields.push({voltaje:'', litros:''})
                },
                guardar:function(event){
                    console.log('guardando')
                    console.log(this.fields)
                }
            },
            created:function(){
                alert('created')
            },
            computed:{
                message: function(){
                    return 'marcos 123';
                }
            },
            mounted:function(){
                self = this;
                fetch("http://localhost:4000/getdata")
                    .then(function(response){
                        return response.json();
                    })
                    .then(function(data){
                        self.fields = data;
                    })
            }
        });
        
    </script>
  </body>
</html>